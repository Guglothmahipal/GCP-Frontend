version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: 20
    commands:
      - echo "ğŸš€ Installing dependencies..."
      - npm install

  build:
    commands:
      - echo "ğŸ—ï¸ Building React app..."
      - npm run build

  post_build:
    commands:
      - echo "âœ… Build completed successfully!"
      - echo "ğŸ§¹ Starting CloudFront cache invalidation..."
      - aws cloudfront create-invalidation --distribution-id EEEZ0MBZHJ9PM --paths "/*"

artifacts:
  files:
    - '**/*'
  base-directory: dist
